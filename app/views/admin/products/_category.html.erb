<div class="container">
  <%@products.each do |product|%>
    <%= link_to new_order_path(product_id: product.id) do%>
    <div class="card">
      <div class="card__header">
        <img src="<%= product.images.first.service_url%>" alt="card__image" class="card__image" width="600">
      </div>
      <div class="card__body">
        <h4><%= product.name%></h4>
        <p class="description"><%= product.description%></p>
        <p class="product_rating">
          <span class="ratings">4.3<i class="fa fa-star"></i></span>
          <span class="product_stock">(<%= product.stock%>)</span>
          <span class="tag tag-blue"><%= product.product_type%></span>
        </p>
        <p class="product_discount">
          <%if product.discount.present?%>
            <span class="main_price">
              ₹<%= product.price - (product.price * product.discount / 100)%>
            </span>
            <span class="discount_price">₹<%= product.price%></span>
            <span style="color: green;"><%= product.discount%>% off</span><br>
            <small>Free delivery by <span style="font-weight: 600;">Today</span></small>
          <%else%>
            <span class="main_price">₹ <%= product.price%></span><br>
            <small>Free delivery</small>
          <%end%>
        </p>
      </div>
    </div>
    <%end%>
  <%end%>
</div>
<style type="text/css">
  @import url("https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap");

.container {
/*  display: flex;*/
/*  flex-wrap: wrap;*/
/*  justify-content: center;
  max-width: 1200px;
  margin-block: 2rem;*/
  gap: 2rem;
}

img {
  max-width: 100%;
  display: block;
  object-fit: cover;
  height: 150px;
}

.eX72wL{
  position: absolute;
  left: 295px;
}

.card {
  /*display: flex;
  flex-direction: column;*/
  margin-left: 27px;
  display: inline-block;
  margin-top: 12px;
  width: 22%;
  height: 25%;
  overflow: hidden;
  box-shadow: 0 .1rem 1rem rgba(0, 0, 0, 0.1);
  border-radius: 1em;
  background: #ECE9E6;
  background: linear-gradient(to right, #FFFFFF, #ECE9E6);

}

.card__header{
  padding: 10px;
  float: left;
  display: inline;
  width: 45%;
}

.card__body {
  /*padding: 1rem;
  display: flex;
  flex-direction: column;
  gap: .5rem;*/
  padding: 20px 2px;
  float: right;
  display: inline;
  width: 54%;
}


.tag {
  align-self: flex-start;
  padding: .25em .35em;
  border-radius: 1em;
  font-size: .75rem;
  font-weight: 600;
}

.tag + .tag {
  margin-left: .5em;
}

.tag-blue {
  background: #56CCF2;
background: linear-gradient(to bottom, #2F80ED, #56CCF2);
  color: #fafafa;
}

.tag-brown {
  background: #D1913C;
background: linear-gradient(to bottom, #FFD194, #D1913C);
  color: #fafafa;
}

.tag-red {
  background: #cb2d3e;
background: linear-gradient(to bottom, #ef473a, #cb2d3e);
  color: #fafafa;
}

.card__body h4 {
  font-size: 1.0rem;
  text-transform: capitalize;
  font-weight: 600;
}

.user {
  display: flex;
  gap: .5rem;
}

.user__image {
  border-radius: 50%;
}

.user__info > small {
  color: #666;
}

.discount_price{
  padding-right: 2px;
  text-decoration: line-through;
  color: gray;
}

.main_price{
  margin-top: 5px;
  padding-right: 2px;
  font-weight: 600;
}

.description{
  margin: 7px 0px;
  color: gray;
  font-size: 12px;
  line-height: 1;
}

.ratings{
  line-height: normal;
  display: inline-block;
  color: #fff;
  padding: 2px 4px 2px 6px;
  border-radius: 3px;
  font-weight: 500;
  font-size: 12px;
  vertical-align: middle;
  background-color: #388e3c;
}

.product_stock{
/*  padding: 0px 2px;*/
  color: gray;
}

.fa-star:before {
    content: "\f005";
    font-size: 10px;
    padding: 0px 2px;
}
p{
  margin: 0;
}
.product_rating{
    padding: 4px 0px;
  }

@media only screen and (max-width: 1048px){
.card {
    margin-left: 17px;
  }

  .product_rating,.ratings, .tag, .fa-star{
    font-size: 9px;
  }
  .description,.product_discount{
    font-size: 11px;
  }
}
</style>